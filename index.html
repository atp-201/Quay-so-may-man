<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>S·ªë May M·∫Øn / Quay T√™n</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <div class="tab">S·ªê MAY M·∫ÆN / QUAY T√äN</div>

    <!-- THEME -->
    <div class="theme-switch">
        <div class="theme green" data-theme="green"></div>
        <div class="theme purple" data-theme="purple"></div>
        <div class="theme dark" data-theme="dark"></div>
    </div>

    <!-- TYPE -->
    <div class="option">
        <label><input type="radio" name="type" checked> üî¢ Quay s·ªë</label>
        <label><input type="radio" name="type"> üë§ Quay t√™n</label>
    </div>

    <!-- NUMBER -->
    <div id="numberMode">
        <div class="option">
            <label><input type="radio" name="mode" checked> Kho·∫£ng</label>
            <label><input type="radio" name="mode"> Danh s√°ch</label>
        </div>

        <div id="rangeMode">
            <div class="group">
                <label>T·ª´ s·ªë:</label>
                <input type="number" id="min" value="1">
            </div>
            <div class="group">
                <label>ƒê·∫øn s·ªë:</label>
                <input type="number" id="max" value="50">
            </div>
        </div>

        <div id="listMode" class="hidden">
            <div class="group">
                <label>Danh s√°ch s·ªë:</label>
                <input type="text" id="list" placeholder="01,25,130,888">
            </div>
        </div>
    </div>

    <!-- NAME -->
    <div id="nameMode" class="hidden">
        <div class="group">
            <label>Danh s√°ch t√™n:</label>
            <textarea id="nameList" rows="4"
            placeholder="Nguy·ªÖn VƒÉn A, Tr·∫ßn Th·ªã B"></textarea>
        </div>
    </div>

    <div class="group">
        <label>Th·ªùi gian quay:</label>
        <select id="time">
            <option value="3000">3 gi√¢y</option>
            <option value="5000" selected>5 gi√¢y</option>
            <option value="10000">10 gi√¢y</option>
        </select>
    </div>

    <div class="button"><button id="spinBtn">QUAY</button></div>
    <div class="button"><button id="resetBtn" class="danger">Reset l·ªãch s·ª≠</button></div>

    <div class="result">
        <span id="output">--</span>
        <div id="history"></div>
    </div>

    <!-- RIG -->
    <div id="rigPanel" class="hidden rig">
        <label><input type="checkbox" id="rigMode"> Ch·∫ø ƒë·ªô rig</label>
        <input id="rigValue" placeholder="S·ªë ho·∫∑c T√™n ƒë·∫∑t tr∆∞·ªõc">
    </div>
</div>

<script src="script.js"></script>
</body>
</html>


<!-- <!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>S·ªë May M·∫Øn / Quay T√™n</title>

<style>
:root{
    --bg1:#b9f5d6;
    --bg2:#6ee64d;
    --card:#ffffff;
    --primary:#111;
}
body{
    margin:0;
    font-family:Arial,sans-serif;
    min-height:100vh;
    background:linear-gradient(120deg,var(--bg1),var(--bg2));
    background-size:200% 200%;
    animation:bgMove 8s ease infinite;
}
@keyframes bgMove{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}
.container{
    max-width:420px;
    margin:20px auto;
    background:var(--card);
    border-radius:16px;
    padding:20px;
    box-shadow:0 15px 40px rgba(0,0,0,.15);
}
.tab{
    background:var(--bg2);
    border-radius:30px;
    margin-bottom:15px;
    text-align:center;
    color:#fff;
    font-weight:bold;
    padding:10px;
}
.theme-switch{
    display:flex;
    justify-content:center;
    gap:10px;
    margin-bottom:12px;
}
.theme{
    width:22px;height:22px;
    border-radius:50%;
    cursor:pointer;
    border:2px solid #fff;
    box-shadow:0 0 0 1px rgba(0,0,0,.2);
}
.theme.green{background:linear-gradient(45deg,#b9f5d6,#6ee64d)}
.theme.purple{background:linear-gradient(45deg,#d9c6ff,#7c4dff)}
.theme.dark{background:linear-gradient(45deg,#333,#000)}

.option{
    display:flex;
    gap:15px;
    margin-bottom:15px;
    flex-wrap:wrap;
}
.option label{
    display:flex;
    align-items:center;
    gap:6px;
}
.group{margin-bottom:15px;}
.group input,.group select,.group textarea{
    width:100%;
    padding:10px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:16px;
}
.button button{
    width:100%;
    padding:14px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:var(--primary);
    color:#fff;
    cursor:pointer;
}
.result{
    margin-top:15px;
    background:#f8f8f8;
    border-radius:12px;
    padding:15px;
    text-align:center;
}
.result span{
    font-size:52px;
    color:red;
    font-weight:bold;
    word-break:break-word;
}
#history{
    margin-top:10px;
    font-size:14px;
    text-align:left;
    max-height:140px;
    overflow:auto;
}
.hidden{display:none}

.firework{
    position:fixed;
    width:6px;height:6px;
    border-radius:50%;
    animation:explode 1s ease-out forwards;
}
@keyframes explode{
    to{transform:translate(var(--x),var(--y));opacity:0;}
}
</style>
</head>

<body>

<div class="container">
    <div class="tab">S·ªê MAY M·∫ÆN / QUAY T√äN</div>

    <div class="theme-switch">
        <div class="theme green" onclick="setTheme('green')"></div>
        <div class="theme purple" onclick="setTheme('purple')"></div>
        <div class="theme dark" onclick="setTheme('dark')"></div>
    </div>

    <div class="option">
        <label><input type="radio" name="type" checked onclick="setType('number')"> üî¢ Quay s·ªë</label>
        <label><input type="radio" name="type" onclick="setType('name')"> üë§ Quay t√™n</label>
    </div>

    <div id="numberMode">
        <div class="option">
            <label><input type="radio" name="mode" checked onclick="setMode('range')"> Kho·∫£ng</label>
            <label><input type="radio" name="mode" onclick="setMode('list')"> Danh s√°ch</label>
        </div>

        <div id="rangeMode">
            <div class="group">
                <label>T·ª´ s·ªë:</label>
                <input type="number" id="min" value="1">
            </div>
            <div class="group">
                <label>ƒê·∫øn s·ªë:</label>
                <input type="number" id="max" value="50">
            </div>
        </div>

        <div id="listMode" class="hidden">
            <div class="group">
                <label>Danh s√°ch s·ªë:</label>
                <input type="text" id="list" placeholder="01,25,130,888">
            </div>
        </div>
    </div>


    <div id="nameMode" class="hidden">
        <div class="group">
            <label>Danh s√°ch t√™n:</label>
            <textarea id="nameList" rows="4"
            placeholder="Nguy·ªÖn VƒÉn A, Tr·∫ßn Th·ªã B"></textarea>
        </div>
    </div>

    <div class="group">
        <label>Th·ªùi gian quay:</label>
        <select id="time">
            <option value="3000">3 gi√¢y</option>
            <option value="5000" selected>5 gi√¢y</option>
            <option value="10000">10 gi√¢y</option>
        </select>
    </div>

    <div class="button"><button onclick="spin()">QUAY</button></div>
    <div class="button"><button onclick="resetHistory()" style="background:#e53935">Reset l·ªãch s·ª≠</button></div>

    <div class="result">
        <span id="output">--</span>
        <div id="history"></div>
    </div>

    <div id="rigPanel" class="hidden" style="margin-top:10px;border-top:1px dashed #ccc;padding-top:10px">
        <label><input type="checkbox" id="rigMode"> Ch·∫ø ƒë·ªô rig</label>
        <input id="rigValue" placeholder="S·ªë ho·∫∑c T√™n ƒë·∫∑t tr∆∞·ªõc"
        style="width:100%;margin-top:6px">
    </div>
</div>

<script>
let type="number",mode="range";
let history=JSON.parse(localStorage.getItem("history"))||[];

const output=outputEl=document.getElementById("output");
const historyDiv=document.getElementById("history");

function setType(t){
    type=t;
    numberMode.classList.toggle("hidden",t!=="number");
    nameMode.classList.toggle("hidden",t!=="name");
}
function setMode(m){
    mode=m;
    rangeMode.classList.toggle("hidden",m!=="range");
    listMode.classList.toggle("hidden",m!=="list");
}

function renderHistory(){
    historyDiv.innerHTML=history.join("<br>");
}
renderHistory();

/* THEME */
function setTheme(t){
    const root=document.documentElement;
    if(t==="green"){
        root.style.setProperty("--bg1","#b9f5d6");
        root.style.setProperty("--bg2","#6ee64d");
        root.style.setProperty("--primary","#111");
    }
    if(t==="purple"){
        root.style.setProperty("--bg1","#d9c6ff");
        root.style.setProperty("--bg2","#7c4dff");
        root.style.setProperty("--primary","#3f1dcb");
    }
    if(t==="dark"){
        root.style.setProperty("--bg1","#111");
        root.style.setProperty("--bg2","#333");
        root.style.setProperty("--primary","#000");
    }
    localStorage.setItem("theme",t);
}
setTheme(localStorage.getItem("theme")||"green");

/* POOL */
function getPool(){
    if(type==="number"){
        if(mode==="range"){
            let a=[];
            for(let i=+min.value;i<=+max.value;i++)
                if(!history.includes("üéâ "+i)) a.push(i);
            return a;
        }
        return list.value.split(",").map(x=>x.trim())
            .filter(x=>x&&!history.includes("üéâ "+x));
    }
    return nameList.value.split(",").map(x=>x.trim())
        .filter(x=>x&&!history.includes("üë§ "+x));
}

/* FIREWORK */
function firework(){
    for(let i=0;i<30;i++){
        let f=document.createElement("div");
        f.className="firework";
        f.style.left="50%";f.style.top="50%";
        f.style.background=`hsl(${Math.random()*360},100%,50%)`;
        f.style.setProperty("--x",`${Math.random()*400-200}px`);
        f.style.setProperty("--y",`${Math.random()*400-200}px`);
        document.body.appendChild(f);
        setTimeout(()=>f.remove(),1000);
    }
}

/* SPIN */
function spin(){
    let pool=getPool();
    if(!pool.length) return alert("H·∫øt!");
    let total=+time.value,start=performance.now();

    (function roll(){
        let p=(performance.now()-start)/total;
        if(p>1) p=1;
        output.innerText=pool[Math.floor(Math.random()*pool.length)];
        if(p<1) setTimeout(roll,30+200*p*p);
        else finalize(pool);
    })();
}

function finalize(pool){
    let final,rig=rigValue.value.trim();
    if(rigMode.checked && rig && pool.includes(type==="number"&&mode==="range"?Number(rig):rig))
        final=type==="number"&&mode==="range"?Number(rig):rig;
    if(final===undefined) final=pool[Math.floor(Math.random()*pool.length)];
    let rec=(type==="number"?"üéâ ":"üë§ ")+final;
    output.innerText=final;
    history.push(rec);
    localStorage.setItem("history",JSON.stringify(history));
    renderHistory(); firework();
}

function resetHistory(){
    if(confirm("X√≥a l·ªãch s·ª≠?")){
        history=[];localStorage.removeItem("history");
        renderHistory();output.innerText="--";
    }
}

document.addEventListener("keydown",e=>{
    if(e.ctrlKey&&e.altKey&&e.key==="r")
        rigPanel.classList.toggle("hidden");
});
</script>
</body>
</html>
 -->
